{"version":3,"sources":["components/Footer/Footer.tsx","hooks/useLocalStorage.tsx","helpers/ProductsContext.tsx","components/Nav/Nav.tsx","components/Header/Header.tsx","App.tsx","components/ScrollToTop/ScrollToTop.tsx","components/CartItem/CartItem.tsx","components/GoBackButton/GoBackButton.tsx","pages/CartPage/CartPage.tsx","pages/ErrorPage/ErrorPage.tsx","components/Breadcrumbs/Breadcrumbs.tsx","components/ProductCard/ProductCard.tsx","components/ProductList/ProductList.tsx","pages/FavoritesPage/FavoritesPage.tsx","components/BannersSlider/BannersSlider.tsx","components/Loader/Loader.tsx","components/ProductsSlider/ProductsSlider.tsx","helpers/productsServise.tsx","pages/HomePage/HomePage.tsx","components/ItemGallery/ItemGallery.tsx","pages/ItemPage/ItemPage.tsx","components/Catalog/Catalog.tsx","components/Select/Select.tsx","pages/ProductsPage/ProductsPage.tsx","Root.tsx","index.tsx"],"names":["Footer","useState","isBtnVisible","setIsBtnVisible","pathname","useLocation","window","onscroll","useEffect","toString","className","to","href","target","rel","classNames","htmlFor","type","id","onClick","scroll","useLocalStorsge","key","startValue","data","localStorage","getItem","JSON","parse","value","setValue","newValue","setItem","stringify","defaultValue","products","setProducts","favorites","setfavorites","addTofavoritesHandler","addedToCart","setAddedToCart","addToCartHandler","cartContentData","setCartContentData","totalPrices","setTotalPrices","ProductContext","createContext","ProductContextProvider","children","phoneId","price","amount","chosenProductID","find","item","filter","chosenProduct","currProduct","removeItem","useMemo","Provider","Nav","isActive","SEARCH_PATHNAMES","Header","useSearchParams","searchParams","setSearchParams","useContext","location","get","query","setQuery","useDebounce","queryValue","trim","set","delete","includes","placeholder","onChange","e","length","App","ScrollToTop","scrollTo","CartItem","product","amountOfProduct","setAmountOfProduct","cartItem","obj","newCartPrices","index","indexOf","map","reduce","sum","i","src","image","alt","name","category","itemId","GoBackButton","navigate","useNavigate","state","prevLink","split","search","CartPage","isMessage","setIsMessage","messageHandler","useCallback","timer","setTimeout","clearTimeout","amountFromStorage","totalItemsCount","ErrorPage","Breadcrumbs","currentLink","crumbs","crumb","capitalizedCrumb","word","charAt","toUpperCase","slice","join","ProductCard","isAddedToCart","isAddedToFav","fullPrice","screen","capacity","ram","ProductList","productsList","FavoritesPage","BANNERS","url","img","BannersSlider","counter","setCounter","width","setWidth","container","useRef","viewport","toNext","prev","handleResize","current","offsetWidth","addEventListener","removeEventListener","translation","style","transform","imgStyle","interval","setInterval","clearInterval","ref","Loader","ProductsSlider","title","prevDisabled","setPrevDisabled","nextDisabled","setNextDisabled","itemsLine","API_URL","getProducts","fetch","then","response","json","HomePage","hotPriceProducts","setHotPriceProducts","brandNewProducts","setBrandNewProducts","isLoading","setIsLoading","sort","a","b","finally","ItemGallery","images","imgSrc","setImgSrc","imgUrl","ItemPage","useParams","itemDetails","setItemDetails","suggestedProducts","setSuggestedProducts","chosenColor","setChosenColor","chosenCapacity","setChosenCapacuty","Math","random","color","getPathname","prop","pathArray","splice","toLowerCase","colorsAvailable","bgc","backgroundColor","capacityAvailable","priceDiscount","priceRegular","resolution","processor","description","desc","text","p","camera","zoom","cell","SORT_BY","Select","label","property","searchName","setSearchWith","propertyList","dropdown","selectBtn","classList","toggle","onBlur","remove","onMouseDown","ITEMS_PER_PAGE","Catalog","setProductsCounter","currPage","sortBy","age","itemsPerPage","lastIndex","firstIndex","params","URLSearchParams","filteredByQuery","visibleProducts","filteredPhones","newPhones","year","localeCompare","getPagesButtons","pagesAmount","ceil","pagesButtons","number","push","Object","values","n","ProductsPage","productsCounter","getCategoy","Root","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e8f1a285.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport './Footer.scss';\n\nexport function Footer() {\n  const [isBtnVisible, setIsBtnVisible] = useState(false);\n  const { pathname } = useLocation();\n\n  window.onscroll = () => {\n    setIsBtnVisible(true);\n  };\n\n  useEffect(() => {\n    setIsBtnVisible(false);\n  }, [pathname.toString()]);\n\n  return (\n    <footer className=\"page__footer footer\">\n      <Link to=\"home\" className=\"footer__logo logo\" />\n\n      <div className=\"footer__links\">\n        <a\n          href=\"https://github.com/\"\n          className=\"footer__link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Github\n        </a>\n        <a\n          href=\"/\"\n          className=\"footer__link\"\n        >\n          Contacts\n        </a>\n        <a\n          href=\"/\"\n          className=\"footer__link\"\n        >\n          Rights\n        </a>\n      </div>\n\n      <div\n        className={classNames(\n          'footer__button',\n          {\n            'footer__button--visible': isBtnVisible,\n          },\n        )}\n      >\n        <label htmlFor=\"back-to-top\" className=\"footer__button-label\">\n          Back to top\n        </label>\n        <button\n          type=\"button\"\n          aria-label=\"back-to-top\"\n          id=\"back-to-top\"\n          onClick={() => window.scroll(0, 0)}\n          className=\"button button--back-to-top\"\n        />\n      </div>\n    </footer>\n  );\n}\n","import { useState } from 'react';\n\nexport function useLocalStorsge<T>(\n  key: string, startValue: T,\n): [T, (v: T) => void] {\n  const [value, setValue] = useState(() => {\n    const data = localStorage.getItem(key);\n\n    if (data === null) {\n      return startValue;\n    }\n\n    try {\n      return JSON.parse(data);\n    } catch {\n      return startValue;\n    }\n  });\n\n  function save(newValue: T) {\n    localStorage.setItem(key, JSON.stringify(newValue));\n    setValue(newValue);\n  }\n\n  return [value, save];\n}\n","import {\n  createContext, useMemo, useState,\n} from 'react';\nimport { useLocalStorsge } from '../hooks/useLocalStorage';\nimport { CartProperty, Product } from './types';\n\ntype Props = {\n  children: React.ReactNode,\n};\n\ninterface IProductContext {\n  products: Product[],\n  setProducts: (p: Product[]) => void,\n  favorites: Product[],\n  setfavorites: (p: Product[]) => void,\n  addTofavoritesHandler: (id: string) => void,\n  addedToCart: Product[],\n  setAddedToCart: (p: Product[]) => void,\n  addToCartHandler: (id: string) => void,\n  cartContentData: CartProperty[],\n  setCartContentData: (v: CartProperty[]) => void,\n  totalPrices: number,\n  setTotalPrices: (n: number) => void,\n}\n\nconst defaultValue = {\n  products: [],\n  setProducts: () => { },\n  favorites: [],\n  setfavorites: () => { },\n  addTofavoritesHandler: () => { },\n  addedToCart: [],\n  setAddedToCart: () => { },\n  addToCartHandler: () => { },\n  cartContentData: [],\n  setCartContentData: () => { },\n  totalPrices: 0,\n  setTotalPrices: () => { },\n};\n\nexport const ProductContext = createContext<IProductContext>(defaultValue);\n\nexport const ProductContextProvider: React.FC<Props> = ({ children }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [favorites, setfavorites]\n    = useLocalStorsge<Product[]>('favorites', []);\n  const [addedToCart, setAddedToCart]\n    = useLocalStorsge<Product[]>('addedToCart', []);\n  const [cartContentData, setCartContentData]\n    = useLocalStorsge<CartProperty[]>(\n      'cartPrices', [{ phoneId: 'none', price: 0, amount: 0 }],\n    );\n  const [totalPrices, setTotalPrices] = useLocalStorsge('totalPrices', 0);\n\n  function addTofavoritesHandler(chosenProductID: string) {\n    if (favorites.find(item => item.phoneId === chosenProductID)) {\n      setfavorites(\n        [...favorites].filter(item => item.phoneId !== chosenProductID),\n      );\n    } else {\n      const chosenProduct = products\n        .find(currProduct => currProduct.phoneId === chosenProductID);\n\n      if (chosenProduct) {\n        setfavorites([...favorites, chosenProduct]);\n      }\n    }\n  }\n\n  function addToCartHandler(chosenProductID: string) {\n    if (addedToCart.find(item => item.phoneId === chosenProductID)) {\n      setAddedToCart(\n        [...addedToCart].filter(item => item.phoneId !== chosenProductID),\n      );\n\n      setCartContentData(\n        [...cartContentData].filter(item => item.phoneId !== chosenProductID),\n      );\n\n      localStorage.removeItem(`${chosenProductID}amount`);\n    } else {\n      const chosenProduct = products\n        .find(currProduct => currProduct.phoneId === chosenProductID);\n\n      if (chosenProduct) {\n        setAddedToCart([...addedToCart, chosenProduct]);\n        setCartContentData([...cartContentData, {\n          phoneId: chosenProductID,\n          price: chosenProduct.price,\n          amount: 1,\n        }]);\n      }\n    }\n  }\n\n  const value = useMemo(() => ({\n    products,\n    setProducts,\n    favorites,\n    setfavorites,\n    addTofavoritesHandler,\n    addedToCart,\n    setAddedToCart,\n    addToCartHandler,\n    cartContentData,\n    setCartContentData,\n    totalPrices,\n    setTotalPrices,\n  }), [favorites, addedToCart, products, totalPrices]);\n\n  return (\n    <ProductContext.Provider value={value}>\n      {children}\n    </ProductContext.Provider>\n  );\n};\n","import classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport './Nav.scss';\n\nexport function Nav() {\n  return (\n    <nav className=\"header__nav nav\">\n      <ul className=\"nav__list\">\n        <li className=\"nav__item\">\n          <NavLink\n            to=\"home\"\n            className={({ isActive }) => classNames(\n              'nav__link',\n              { 'nav__link--is-active': isActive },\n            )}\n          >\n            Home\n          </NavLink>\n        </li>\n        <li className=\"nav__item\">\n          <NavLink\n            to=\"phones\"\n            className={({ isActive }) => classNames(\n              'nav__link',\n              { 'nav__link--is-active': isActive },\n            )}\n          >\n            Phones\n          </NavLink>\n        </li>\n        <li className=\"nav__item\">\n          <NavLink\n            to=\"tablets\"\n            className={({ isActive }) => classNames(\n              'nav__link',\n              { 'nav__link--is-active': isActive },\n            )}\n          >\n            Tablets\n          </NavLink>\n        </li>\n        <li className=\"nav__item\">\n          <NavLink\n            to=\"accessories\"\n            className={({ isActive }) => classNames(\n              'nav__link',\n              { 'nav__link--is-active': isActive },\n            )}\n          >\n            Accessories\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n","import { useDebounce } from 'use-debounce';\nimport classNames from 'classnames';\nimport {\n  useContext, useEffect, useState,\n} from 'react';\nimport {\n  Link, NavLink, useLocation, useSearchParams,\n} from 'react-router-dom';\nimport { ProductContext } from '../../helpers/ProductsContext';\nimport { Nav } from '../Nav';\nimport './Header.scss';\n\nconst SEARCH_PATHNAMES = ['/phones', '/tablets', '/accessories', '/favorites'];\n\nexport function Header() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { favorites, addedToCart } = useContext(ProductContext);\n  const location = useLocation();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const [value] = useDebounce(query, 500);\n\n  const setQueryToSearchParams = (queryValue: string) => {\n    if (!queryValue.trim()) {\n      searchParams.delete('query');\n    } else {\n      searchParams.set('query', queryValue.trim());\n    }\n\n    setSearchParams(searchParams);\n  };\n\n  useEffect(() => {\n    setQueryToSearchParams(value);\n  }, [value]);\n\n  return (\n    <header className=\"page__header header\">\n      <div className=\"header__left\">\n        <Link to=\"home\" className=\"header__logo logo\" />\n\n        <Nav />\n      </div>\n\n      <div className=\"header__right\">\n        <div\n          className={classNames(\n            'header__input-container',\n            {\n              'header__input-container--active': SEARCH_PATHNAMES\n                .includes(location.pathname),\n            },\n          )}\n        >\n          <input\n            placeholder=\"Search in phones...\"\n            className=\"header__input\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            // onChange={(e) => handleQueryChange(e.target.value)}\n          />\n\n          {query === ''\n            ? <div className=\"header__input-icon\" />\n            : (\n              <button\n                aria-label=\"clear\"\n                type=\"button\"\n                className=\"header__input-btn\"\n                onClick={() => setQuery('')}\n                // onClick={() => handleQueryChange('')}\n              />\n            )}\n        </div>\n\n        <NavLink\n          to=\"favorites\"\n          className={({ isActive }) => classNames(\n            'icon icon--fav',\n            { 'icon--active': isActive },\n          )}\n        >\n          {favorites.length > 0 && (\n            <div className=\"counter\">\n              {favorites.length}\n            </div>\n          )}\n        </NavLink>\n        <NavLink\n          to=\"cart\"\n          className={({ isActive }) => classNames(\n            'icon icon--cart',\n            { 'icon--active': isActive },\n          )}\n        >\n          {addedToCart.length > 0 && (\n            <div className=\"counter\">\n              {addedToCart.length}\n            </div>\n          )}\n        </NavLink>\n      </div>\n    </header>\n  );\n}\n","import { Outlet } from 'react-router-dom';\nimport './App.scss';\nimport { Footer } from './components/Footer';\nimport { Header } from './components/Header';\n\nconst App = () => (\n  <div className=\"page__app\" id=\"app\">\n    <Header />\n\n    <main className=\"page__main main\">\n      <Outlet />\n    </main>\n\n    <Footer />\n  </div>\n);\n\nexport default App;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname.toString()]);\n\n  return null;\n}\n","import classNames from 'classnames';\nimport { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ProductContext } from '../../helpers/ProductsContext';\nimport { Product } from '../../helpers/types';\nimport { useLocalStorsge } from '../../hooks/useLocalStorage';\nimport './CartItem.scss';\n\ntype Props = {\n  product: Product,\n};\n\nexport const CartItem: React.FC<Props> = ({\n  product,\n}) => {\n  const {\n    cartContentData, setCartContentData, addedToCart,\n    setTotalPrices, addToCartHandler,\n  } = useContext(ProductContext);\n\n  const [amountOfProduct, setAmountOfProduct]\n    = useLocalStorsge<number>(`${product.phoneId}amount`, 1);\n\n  useEffect(() => {\n    const cartItem = cartContentData\n      .find(obj => obj.phoneId === product.phoneId);\n\n    if (cartItem) {\n      const newCartPrices = [...cartContentData];\n      const index = newCartPrices.indexOf(cartItem);\n\n      newCartPrices[index].amount = amountOfProduct;\n\n      setCartContentData(newCartPrices);\n    } else {\n      const newCartPrices = [...cartContentData, {\n        phoneId: product.phoneId,\n        price: product.price,\n        amount: amountOfProduct,\n      }];\n\n      setCartContentData(newCartPrices);\n    }\n\n    const newValue = cartContentData\n      .map(obj => obj.price * obj.amount)\n      .reduce((sum, i) => sum + i, 0);\n\n    setTotalPrices(newValue);\n  }, [amountOfProduct, addedToCart]);\n\n  return (\n    <article className=\"cart-item\">\n      <div className=\"cart-item__left\">\n        <button\n          aria-label=\"remove item\"\n          type=\"button\"\n          className=\"cart-item__remove-btn\"\n          onClick={() => addToCartHandler(product.phoneId)}\n          data-cy=\"cartDeleteButton\"\n        />\n\n        <div className=\"cart-item__img-container\">\n          <img\n            src={product.image}\n            alt={product.name}\n            className=\"cart-item__img\"\n          />\n        </div>\n        <Link to={`/${product.category}/${product.itemId}`} className=\"cart-item__item-link\">\n          <p className=\"cart-item__name\">\n            {product.name}\n          </p>\n        </Link>\n      </div>\n      <div className=\"cart-item__right\">\n        <div className=\"cart-item__change-amount\">\n          <button\n            aria-label=\"decrease amount\"\n            type=\"button\"\n            className={classNames(\n              'cart-item__btn cart-item__btn--min',\n              { 'cart-item__btn--min--disabled': amountOfProduct === 1 },\n            )}\n            onClick={() => setAmountOfProduct(amountOfProduct - 1)}\n          />\n          <p className=\"cart-item__amount\" data-cy=\"productQauntity\">\n            {amountOfProduct}\n          </p>\n          <button\n            aria-label=\"increase amount\"\n            type=\"button\"\n            className=\"cart-item__btn cart-item__btn--plus\"\n            onClick={() => setAmountOfProduct(amountOfProduct + 1)}\n          />\n        </div>\n\n        <p className=\"cart-item__price\">{`$${product.price * amountOfProduct}`}</p>\n      </div>\n    </article>\n  );\n};\n","// import { useLocation, useNavigate } from 'react-router-dom';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './GoBackButton.scss';\n\nexport function GoBackButton() {\n  const navigate = useNavigate();\n  const { state, pathname } = useLocation();\n  const prevLink = pathname.split('/')[1];\n\n  return (\n    <button\n      aria-label=\"Go back\"\n      type=\"button\"\n      className=\"go-back-button\"\n      onClick={() => navigate({ pathname: '..', search: state?.search })}\n      data-cy=\"backButton\"\n    >\n      <span className=\"go-back-button__arrow\" />\n      {`Back ${prevLink !== 'cart' ? `to ${prevLink}` : ''}`}\n    </button>\n  );\n}\n","import classNames from 'classnames';\nimport {\n  useCallback, useContext, useEffect, useState,\n} from 'react';\nimport { CartItem } from '../../components/CartItem';\nimport { GoBackButton } from '../../components/GoBackButton/GoBackButton';\nimport { ProductContext } from '../../helpers/ProductsContext';\nimport './CartPage.scss';\n\nexport function CartPage() {\n  const {\n    addedToCart, cartContentData, setCartContentData, totalPrices,\n  } = useContext(ProductContext);\n  const [isMessage, setIsMessage] = useState(false);\n\n  const messageHandler = useCallback(() => {\n    setIsMessage(true);\n\n    const timer = setTimeout(() => setIsMessage(false), 4000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    const newValue = addedToCart.map(obj => {\n      const amountFromStorage = localStorage.getItem(`${obj.phoneId}amount`);\n\n      return {\n        phoneId: obj.phoneId,\n        price: obj.price,\n        amount: amountFromStorage ? +amountFromStorage : 1,\n      };\n    });\n\n    setCartContentData(newValue);\n  }, [addedToCart]);\n\n  const totalItemsCount = cartContentData\n    .map(item => item.amount)\n    .reduce((sum, i) => sum + i, 0);\n\n  return (\n    <>\n      <GoBackButton />\n      <section className=\"cart\">\n        <h1 className=\"cart__title\">Cart</h1>\n\n        {addedToCart.length === 0\n          ? (<p className=\"cart__empty\">Your cart is empty</p>)\n          : (\n            <div className=\"cart__container\">\n              <div className=\"cart__chosen-items\">\n                {addedToCart.map(item => (\n                  <div key={item.phoneId}>\n                    <CartItem\n                      product={item}\n                    />\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"cart__total\">\n                <div className=\"cart__price-container\">\n                  <p className=\"cart__price\">\n                    {`$${totalPrices}`}\n                  </p>\n                  <p className=\"cart__price-description\">\n                    {`Total for ${totalItemsCount} items`}\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"wide-button wide-button--high\"\n                  onClick={() => messageHandler()}\n                >\n                  Checkout\n                </button>\n                <p\n                  className={classNames(\n                    'cart__message',\n                    { 'cart__message--active': isMessage },\n                  )}\n                >\n                  We are sorry, but this feature is not implemented yet\n                </p>\n              </div>\n            </div>\n          )}\n      </section>\n    </>\n  );\n}\n","import './ErrorPage.scss';\n\nexport function ErrorPage() {\n  return (\n    <div className=\"error-page\">Page not found... </div>\n  );\n}\n","import { NavLink, useLocation } from 'react-router-dom';\nimport './Breadcrumbs.scss';\n\nexport const Breadcrumbs = () => {\n  const location = useLocation();\n\n  let currentLink = '';\n\n  const crumbs = location.pathname.split('/')\n    .filter(crumb => crumb !== '')\n    .map(crumb => {\n      currentLink += `/${crumb}`;\n\n      const capitalizedCrumb = crumb\n        .split('-')\n        .map((word) => {\n          const capitalized = word.charAt(0).toUpperCase()\n          + word.slice(1);\n\n          return capitalized;\n        })\n        .join(' ');\n\n      return (\n        <div\n          className=\"breadcrumbs__crumb\"\n          data-cy=\"breadCrumbs\"\n          key={crumb}\n        >\n          <div className=\"breadcrumbs__separator\" />\n          <NavLink\n            to={currentLink}\n            className=\"breadcrumbs__link\"\n          >\n            {capitalizedCrumb}\n          </NavLink>\n        </div>\n\n      );\n    });\n\n  return (\n    <div className=\"breadcrumbs\">\n      <NavLink to=\"/home\" className=\"breadcrumbs__home\" />\n      {crumbs}\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport { useContext } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { ProductContext } from '../../helpers/ProductsContext';\nimport { Product } from '../../helpers/types';\nimport './ProductCard.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    addTofavoritesHandler, addToCartHandler, addedToCart,\n    favorites,\n  } = useContext(ProductContext);\n  const [searchParams] = useSearchParams();\n\n  const isAddedToCart = addedToCart\n    .find(item => item.phoneId === product.phoneId);\n  const isAddedToFav = favorites\n    .find(item => item.phoneId === product.phoneId);\n\n  return (\n    <article className=\"product-card\">\n      <div className=\"product-card__img-container\">\n        <Link\n          to={`/${product.category}/${product.itemId}`}\n          state={{ search: searchParams.toString() }}\n        >\n          <img\n            src={product.image}\n            alt={product.name}\n            className=\"product-card__img\"\n          />\n        </Link>\n      </div>\n\n      <Link\n        to={`/${product.category}/${product.itemId}`}\n        className=\"product-card__title-link\"\n        state={{ search: searchParams.toString() }}\n      >\n        <h2 className=\"product-card__title\">{product.name}</h2>\n      </Link>\n      <p className=\"product-cars__prices\">\n        <span className=\"product-card__price\">\n          {`$${product.price}`}\n        </span>\n        <span className=\"product-card__full-price\">\n          {`$${product.fullPrice}`}\n        </span>\n      </p>\n\n      <ul className=\"product-card__list\">\n        <li className=\"product-card__list-item\">\n          <p className=\"product-card__property-name\">Screen</p>\n          <p className=\"product-card__property-value\">{product.screen}</p>\n        </li>\n        <li className=\"product-card__list-item\">\n          <p className=\"product-card__property-name\">Capacity</p>\n          <p className=\"product-card__property-value\">{product.capacity}</p>\n        </li>\n        <li className=\"product-card__list-item\">\n          <p className=\"product-card__property-name\">RAM</p>\n          <p className=\"product-card__property-value\">{product.ram}</p>\n        </li>\n      </ul>\n\n      <div className=\"product-card__buttons\">\n        <button\n          type=\"button\"\n          className={classNames(\n            'wide-button',\n            {\n              'wide-button--active': isAddedToCart,\n            },\n          )}\n          onClick={() => addToCartHandler(product.phoneId)}\n        >\n          {isAddedToCart\n            ? 'Added to Cart'\n            : 'Add to cart'}\n        </button>\n\n        <button\n          type=\"button\"\n          aria-label=\"button-fav\"\n          className={classNames(\n            'button button--fav',\n            {\n              'button--fav--chosen': isAddedToFav,\n            },\n          )}\n          onClick={() => addTofavoritesHandler(product.phoneId)}\n          data-cy=\"addToFavorite\"\n        />\n      </div>\n    </article>\n  );\n};\n","import { Product } from '../../helpers/types';\nimport { ProductCard } from '../ProductCard';\n\nimport './ProductList.scss';\n\ntype Props = {\n  productsList: Product[]\n};\n\nexport const ProductList: React.FC<Props> = ({ productsList }) => {\n  return (\n    <ul className=\"product-list\" data-cy=\"productList\">\n      {productsList.map((currProduct: Product) => (\n        <li key={currProduct.id}>\n          <ProductCard product={currProduct} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import { useContext } from 'react';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { ProductList } from '../../components/ProductList/ProductList';\nimport { ProductContext } from '../../helpers/ProductsContext';\n\nexport function FavoritesPage() {\n  const { favorites } = useContext(ProductContext);\n\n  return (\n    <div className=\"outlet\">\n      <Breadcrumbs />\n\n      <section className=\"outlet__content\">\n        <h1 className=\"outlet__title\">Favorites</h1>\n        <p className=\"outlet__subtitle\">\n          {`${favorites.length} items`}\n        </p>\n\n        <ProductList productsList={favorites} />\n      </section>\n    </div>\n  );\n}\n","import classNames from 'classnames';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './BannersSlider.scss';\n\nconst BANNERS = [\n  {\n    name: 'phones',\n    url: '/phones',\n    img: './img/banner-phones.png',\n  },\n  {\n    name: 'tablets',\n    url: '/tablets',\n    img: './img/banner-tablets.png',\n  },\n  {\n    name: 'accessories',\n    url: '/accessories',\n    img: './img/banner-accessories.png',\n  },\n];\n\nexport function BannersSlider() {\n  const [counter, setCounter] = useState(0);\n  const [width, setWidth] = useState(1040);\n  const container = useRef<HTMLDivElement>(null);\n  const viewport = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (viewport.current) {\n        setWidth(viewport.current.offsetWidth);\n      }\n    };\n\n    handleResize();\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    setWidth(viewport.current ? viewport.current.offsetWidth : 0);\n    const translation = width * counter;\n\n    if (container.current) {\n      container.current.style.transform = `translateX(-${translation}px)`;\n    }\n  }, [counter, width]);\n\n  function toPrew() {\n    if (counter === 0) {\n      setCounter(BANNERS.length - 1);\n    } else {\n      setCounter(prev => prev - 1);\n    }\n  }\n\n  function toNext() {\n    if (counter === BANNERS.length - 1) {\n      setCounter(0);\n    } else {\n      setCounter(prev => prev + 1);\n    }\n  }\n\n  const imgStyle = {\n    width,\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      toNext();\n    }, 4000);\n\n    return () => clearInterval(interval);\n  }, [counter]);\n\n  return (\n    <div className=\"slider\">\n      <div className=\"slider__top\">\n        <button\n          type=\"button\"\n          className=\"slider__button slider__button--prev\"\n          aria-label=\"prev\"\n          onClick={toPrew}\n        />\n\n        <div\n          className=\"slider__viewport\"\n          ref={viewport}\n        >\n          <div className=\"slider__links\" ref={container}>\n            {BANNERS.map(item => (\n              <Link\n                className={`slider__link slider__link--${item.name}`}\n                style={imgStyle}\n                key={item.name}\n                to={item.url}\n              />\n            ))}\n          </div>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"slider__button slider__button--next\"\n          aria-label=\"next\"\n          onClick={toNext}\n        />\n      </div>\n\n      <div className=\"slider__dots\">\n        <button\n          aria-label=\"dot\"\n          type=\"button\"\n          className={classNames(\n            'slider__dot',\n            { 'slider__dot--active': counter === 0 },\n          )}\n          onClick={() => setCounter(0)}\n        />\n        <button\n          aria-label=\"dot\"\n          type=\"button\"\n          className={classNames(\n            'slider__dot',\n            { 'slider__dot--active': counter === 1 },\n          )}\n          onClick={() => setCounter(1)}\n        />\n        <button\n          aria-label=\"dot\"\n          type=\"button\"\n          className={classNames(\n            'slider__dot',\n            { 'slider__dot--active': counter === 2 },\n          )}\n          onClick={() => setCounter(2)}\n        />\n      </div>\n    </div>\n  );\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import classNames from 'classnames';\nimport { useEffect, useRef, useState } from 'react';\nimport { Product } from '../../helpers/types';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductsSlider.scss';\n\ntype Props = {\n  title: string;\n  products: Product[],\n};\n\nexport const ProductsSlider: React.FC<Props> = ({ title, products }) => {\n  const PRODUCT_CARD_WIDTH = 272;\n  const GAP_WIDTH = 16;\n  const CARDS_VIEWED = 4;\n\n  const [counter, setCounter] = useState(0);\n  const [prevDisabled, setPrevDisabled] = useState(false);\n  const [nextDisabled, setNextDisabled] = useState(false);\n\n  const itemsLine = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (counter === 0) {\n      setPrevDisabled(true);\n    }\n\n    if (counter === products.length - 1 - CARDS_VIEWED) {\n      setNextDisabled(true);\n    }\n\n    const translation = (PRODUCT_CARD_WIDTH + GAP_WIDTH) * counter;\n\n    if (itemsLine.current) {\n      itemsLine.current.style.transform = `translateX(-${translation}px)`;\n    }\n  }, [counter]);\n\n  function toPrew() {\n    setNextDisabled(false);\n    setCounter(prev => prev - 1);\n  }\n\n  function toNext() {\n    setPrevDisabled(false);\n    if (counter === products.length - 1 - CARDS_VIEWED) {\n      setNextDisabled(true);\n    } else {\n      setCounter(prev => prev + 1);\n    }\n  }\n\n  return (\n    <div className=\"products-slider\">\n      <div className=\"products-slider__top\">\n        <h1 className=\"products-slider__title\">{title}</h1>\n\n        <div className=\"products-slider__buttons\">\n          <button\n            aria-label=\"prev\"\n            type=\"button\"\n            className={classNames(\n              'button button--prev',\n              { 'button--disabled': prevDisabled },\n            )}\n            onClick={toPrew}\n          />\n          <button\n            aria-label=\"next\"\n            type=\"button\"\n            className={classNames(\n              'button button--next',\n              { 'button--disabled': nextDisabled },\n            )}\n            onClick={toNext}\n          />\n        </div>\n      </div>\n\n      <div className=\"products-slider__viewport\">\n        <div\n          className=\"products-slider__items\"\n          ref={itemsLine}\n          data-cy=\"cardsContainer\"\n        >\n          {products.map(currProduct => (\n            <div key={currProduct.id}>\n              <ProductCard product={currProduct} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { ItemDetails, Product } from './types';\n\nconst API_URL = 'https://mate-academy.github.io/react_phone-catalog/_new';\n\nexport function getProducts(): Promise<Product[]> {\n  return fetch(`${API_URL}/products.json`)\n    .then(response => response.json());\n}\n\nexport function getCategoy(category: string) {\n  return getProducts()\n    .then(products => products\n      .filter(item => item.category === category));\n}\n\nexport function getHotPriceProducts() {\n  return getProducts()\n    .then(products => products\n      .sort((a: Product, b: Product) => {\n        const aDiscount = a.fullPrice - a.price;\n        const bDiscount = b.fullPrice - b.price;\n\n        return aDiscount - bDiscount;\n      }));\n}\n\nexport function getBrandNewProducts() {\n  return getProducts()\n    .then(products => products\n      .sort((a: Product, b: Product) => b.price - a.price));\n}\n\nexport function getSuggestedProducts() {\n  return getProducts()\n    .then(products => products\n      .sort(() => 0.5 - Math.random()));\n}\n\nexport function getProductDetails(\n  id: string | undefined,\n): Promise<ItemDetails> {\n  return fetch(`${API_URL}/products/${id}.json`)\n    .then(response => response.json())\n    .then();\n}\n","import { useContext, useEffect, useState } from 'react';\nimport { BannersSlider } from '../../components/BannersSlider/BannersSlider';\nimport { Loader } from '../../components/Loader';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { ProductContext } from '../../helpers/ProductsContext';\nimport {\n  getBrandNewProducts, getHotPriceProducts, getProducts,\n} from '../../helpers/productsServise';\nimport { Product } from '../../helpers/types';\n\nimport './HomePage.scss';\n\nexport function HomePage() {\n  const { products, setProducts } = useContext(ProductContext);\n  const [hotPriceProducts, setHotPriceProducts] = useState<Product[]>([]);\n  const [brandNewProducts, setBrandNewProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getProducts().then(setProducts);\n    getHotPriceProducts().then(setHotPriceProducts);\n    getBrandNewProducts().then(setBrandNewProducts)\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <div className=\"home-page\">\n      {isLoading\n        ? <Loader />\n        : (\n          <>\n            <section className=\"home-page__section\">\n              <BannersSlider />\n            </section>\n\n            <section className=\"home-page__section hot-prices\">\n              <ProductsSlider title=\"Hot prices\" products={hotPriceProducts} />\n            </section>\n\n            <section className=\"home-page__section categories\">\n              <h1 className=\"categories__title\">Shop by category</h1>\n\n              <div\n                className=\"categories__content\"\n                data-cy=\"categoryLinksContainer\"\n              >\n                <div className=\"categories__category category\">\n                  <a href=\"#/phones\" className=\"category__link\">\n                    <img\n                      src=\"./img/categories/phones.jpg\"\n                      width=\"368px\"\n                      alt=\"mobile phones\"\n                      className=\"category__img\"\n                    />\n                    <h2 className=\"category__title\">Mobile phones</h2>\n                  </a>\n\n                  <p className=\"category__subtitle\">\n                    {`${products.filter(item => item.category === 'phones').length} models`}\n                  </p>\n                </div>\n\n                <div className=\"categories__category category\">\n                  <a href=\"#/phones\" className=\"category__link\">\n                    <img\n                      src=\"./img/categories/tabs.jpg\"\n                      width=\"368px\"\n                      alt=\"mobile phones\"\n                      className=\"category__img\"\n                    />\n                    <h2 className=\"category__title\">Tablets</h2>\n                  </a>\n\n                  <p className=\"category__subtitle\">\n                    {`${products.filter(item => item.category === 'tablets').length} models`}\n                  </p>\n                </div>\n\n                <div className=\"categories__category category\">\n                  <a href=\"#/phones\" className=\"category__link\">\n                    <img\n                      src=\"./img/categories/accessories.jpg\"\n                      width=\"368px\"\n                      alt=\"mobile phones\"\n                      className=\"category__img\"\n                    />\n                    <h2 className=\"category__title\">Accessories</h2>\n                  </a>\n\n                  <p className=\"category__subtitle\">\n                    {`${products.filter(item => item.category === 'accessories').length} models`}\n                  </p>\n                </div>\n              </div>\n            </section>\n\n            <section className=\"home-page__section new-models\">\n              <ProductsSlider\n                title=\"Brand new models\"\n                products={brandNewProducts}\n              />\n            </section>\n          </>\n        )}\n    </div>\n  );\n}\n","import classNames from 'classnames';\nimport { useEffect, useState } from 'react';\nimport './ItemGallery.scss';\n\ntype Props = {\n  images: string[]\n};\n\nexport const ItemGallery: React.FC<Props> = ({ images }) => {\n  const [imgSrc, setImgSrc] = useState(images[0]);\n\n  useEffect(() => {\n    setImgSrc(images[0]);\n  }, [images]);\n\n  return (\n    <div className=\"item-gallery\">\n      <ul className=\"item-gallery__list\">\n        {images.map(imgUrl => (\n          <li key={imgUrl} className=\"item-gallery__li\">\n            <button\n              type=\"button\"\n              onClick={() => setImgSrc(imgUrl)}\n              className={classNames(\n                'item-gallery__previw-btn',\n                { 'item-gallery__previw-btn--active': imgUrl === imgSrc },\n              )}\n            >\n              <img\n                src={imgUrl}\n                alt=\"product\"\n                className=\"item-gallery__previw-img\"\n              />\n            </button>\n          </li>\n        ))}\n      </ul>\n      <div className=\"item-gallery__img-container\">\n        <img\n          src={imgSrc}\n          alt=\"product\"\n          className=\"item-gallery__img\"\n        />\n      </div>\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport classNames from 'classnames';\nimport {\n  ReactChild, ReactFragment, ReactPortal, useContext, useEffect, useState,\n} from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { GoBackButton } from '../../components/GoBackButton/GoBackButton';\nimport { ItemGallery } from '../../components/ItemGallery/ItemGallery';\nimport { Loader } from '../../components/Loader';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { ProductContext } from '../../helpers/ProductsContext';\nimport { getProductDetails, getSuggestedProducts } from '../../helpers/productsServise';\nimport { ItemDetails, Product } from '../../helpers/types';\n\nimport './ItemPage.scss';\n\nexport function ItemPage() {\n  const { itemId } = useParams();\n\n  const {\n    addTofavoritesHandler, addToCartHandler, addedToCart, favorites,\n  } = useContext(ProductContext);\n\n  const [itemDetails, setItemDetails] = useState<ItemDetails>();\n  const [suggestedProducts, setSuggestedProducts] = useState<Product[]>([]);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [chosenColor, setChosenColor] = useState('');\n  const [chosenCapacity, setChosenCapacuty] = useState('');\n\n  const location = useLocation();\n  const { state } = useLocation();\n\n  const isAddedToCart = addedToCart\n    .find(item => item.phoneId === itemId);\n  const isAddedToFav = favorites\n    .find(item => item.phoneId === itemId);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getProductDetails(itemId)\n      .then(setItemDetails)\n      .finally(() => setIsLoading(false));\n\n    getSuggestedProducts().then(setSuggestedProducts);\n  }, [itemId]);\n\n  useEffect(() => {\n    if (itemDetails) {\n      setChosenColor(itemDetails.color);\n      setChosenCapacuty(itemDetails.capacity);\n    }\n  }, [itemDetails]);\n\n  const getPathname = (prop: string, value: string) => {\n    const pathArray = location.pathname.split('-');\n\n    switch (prop) {\n      case 'color':\n        pathArray.splice(-1, 1, value);\n        break;\n\n      case 'capacity':\n        pathArray.splice(-2, 1, value.toLowerCase());\n        break;\n\n      default:\n        break;\n    }\n\n    return pathArray.join('-');\n  };\n\n  return (\n    isLoading\n      ? <Loader />\n      : (\n        <div\n          className=\"item-page\"\n        >\n          <Breadcrumbs />\n\n          <GoBackButton />\n\n          {itemDetails ? (\n            <>\n              <section className=\"item-page__section\">\n                <h1 className=\"item-page__title\">\n                  {itemDetails.name}\n                </h1>\n\n                <div className=\"item-page__flex-container\">\n                  <ItemGallery images={itemDetails.images} />\n\n                  <div className=\"item-page__main-info\">\n                    <div className=\"item-page__info-container\">\n                      <div className=\"item-page__specifications\">\n                        <div className=\"item-page__info-block\">\n                          <p className=\"item-page__caption\">\n                            Available colors\n                          </p>\n                          <ul className=\"item-page__spec-container\">\n                            {itemDetails.colorsAvailable.map(color => {\n                              const bgc = color === 'rosegold' ? '#ffe5e4' : color;\n\n                              return (\n                                <li key={color}>\n                                  <Link\n                                    to={getPathname('color', color)}\n                                    state={{ search: state?.search }}\n                                    className={classNames(\n                                      'item-page__color',\n                                      { 'item-page__color--active': chosenColor === color },\n                                    )}\n                                    title={color}\n                                    style={{ backgroundColor: bgc }}\n                                    onClick={() => setChosenColor(color)}\n                                  />\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </div>\n\n                        <div className=\"item-page__separator\" />\n\n                        <div className=\"item-page__info-block\">\n                          <p className=\"item-page__caption\">\n                            Select capacity\n                          </p>\n                          <ul className=\"item-page__spec-container\">\n                            {itemDetails.capacityAvailable.map(capacity => (\n                              <li key={capacity}>\n                                <Link\n                                  to={getPathname('capacity', capacity)}\n                                  state={{ search: state?.search }}\n                                  className={classNames(\n                                    'item-page__capacity',\n                                    { 'item-page__capacity--active': chosenCapacity === capacity },\n                                  )}\n                                  onClick={() => setChosenCapacuty(capacity)}\n                                >\n                                  {capacity}\n                                </Link>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n\n                        <div className=\"item-page__separator\" />\n                      </div>\n\n                      <p className=\"item-page__price\">\n                        {`$${itemDetails.priceDiscount}`}\n                        <span className=\"item-page__price--old\">{`$${itemDetails.priceRegular}`}</span>\n                      </p>\n\n                      <div className=\"item-page__add-to-cart\">\n                        <button\n                          type=\"button\"\n                          aria-label=\"Add to cart\"\n                          className={classNames(\n                            'wide-button wide-button--high',\n                            {\n                              'wide-button--active': isAddedToCart,\n                            },\n                          )}\n                          onClick={() => addToCartHandler(itemDetails.id)}\n                        >\n                          {isAddedToCart\n                            ? 'Added to Cart'\n                            : 'Add to cart'}\n                        </button>\n                        <button\n                          type=\"button\"\n                          aria-label=\"Add to favorites\"\n                          className={classNames(\n                            'button button--fav button--fav--big',\n                            {\n                              'button--fav--chosen': isAddedToFav,\n                            },\n                          )}\n                          onClick={() => addTofavoritesHandler(itemDetails.id)}\n                          data-cy=\"addToFavorite\"\n                        />\n                      </div>\n\n                      <ul className=\"item-page__props-list\">\n                        <li className=\"item-page__prop-li\">\n                          <p>Screen</p>\n                          <p className=\"item-page__prop-value\">{itemDetails.screen}</p>\n                        </li>\n                        <li className=\"item-page__prop-li\">\n                          <p>Resolution</p>\n                          <p className=\"item-page__prop-value\">{itemDetails.resolution}</p>\n                        </li>\n                        <li className=\"item-page__prop-li\">\n                          <p>Processor</p>\n                          <p className=\"item-page__prop-value\">{itemDetails.processor}</p>\n                        </li>\n                        <li className=\"item-page__prop-li\">\n                          <p>RAM</p>\n                          <p className=\"item-page__prop-value\">{itemDetails.ram}</p>\n                        </li>\n                      </ul>\n                    </div>\n\n                    <p className=\"item-page__id\">ID: 802390</p>\n                  </div>\n\n                </div>\n              </section>\n\n              <div className=\"item-page__flex-container\">\n                <section className=\"item-page__section\">\n                  <div className=\"item-page__about\" data-cy=\"productDescription\">\n                    <div>\n                      <h2 className=\"item-page__section-title\">\n                        About\n                      </h2>\n                      <div className=\"item-page__separator\" />\n                    </div>\n                    {itemDetails.description.map(desc => (\n                      <article className=\"item-page__about-article\">\n                        <h3 className=\"item-page__article-title\">{desc.title}</h3>\n                        {desc.text.map((p: boolean | ReactChild | ReactFragment | ReactPortal | null | undefined) => (\n                          <p className=\"item-page__article-p\">{p}</p>\n                        ))}\n                      </article>\n                    ))}\n                  </div>\n                </section>\n\n                <section className=\"item-page__section\">\n                  <div>\n                    <h2 className=\"item-page__section-title\">\n                      Tech specs\n                    </h2>\n                    <div className=\"item-page__separator\" />\n                  </div>\n                  <ul className=\"item-page__tech-specs\">\n                    <li className=\"item-page__tech-spec\">\n                      Screen\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.screen}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      Resolution\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.resolution}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      Processor\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.processor}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      RAM\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.ram}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      Built in memory\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.capacity}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      Camera\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.camera}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      Zoom\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.zoom}</span>\n                    </li>\n                    <li className=\"item-page__tech-spec\">\n                      Cell\n                      <span className=\"item-page__tech-spec--value\">{itemDetails.cell.join(', ')}</span>\n                    </li>\n                  </ul>\n                </section>\n              </div>\n            </>\n          )\n            : <p className=\"item-page__not-found\">No products found...</p>}\n\n          <ProductsSlider title=\"You may also like\" products={suggestedProducts} />\n        </div>\n      )\n  );\n}\n","import classNames from 'classnames';\nimport { useEffect, useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport type { Product } from '../../helpers/types';\nimport { ProductList } from '../ProductList/ProductList';\nimport { Select } from '../Select/Select';\n\nimport './Catalog.scss';\n\ntype Props = {\n  products: Product[];\n  setProductsCounter: (n: number) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum SORT_BY {\n  age = 'Newest',\n  name = 'Alphabetically',\n  price = 'Cheapest',\n}\n\nexport const ITEMS_PER_PAGE = [4, 8, 16, 'all'];\n\nexport const Catalog: React.FC<Props> = ({ products, setProductsCounter }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const currPage = +(searchParams.get('page') || 1);\n  const sortBy = searchParams.get('sort') || SORT_BY.age;\n  const itemsPerPage = searchParams.get('perPage') || (ITEMS_PER_PAGE[2]);\n  const query = searchParams.get('query') || '';\n\n  const lastIndex = itemsPerPage !== 'all'\n    ? +itemsPerPage * currPage\n    : products.length;\n\n  const firstIndex = itemsPerPage !== 'all'\n    ? lastIndex - +itemsPerPage\n    : 1;\n\n  const setSearchWith = (key: string, value: string | number) => {\n    const params = new URLSearchParams(searchParams);\n\n    params.set(key, value.toString());\n    setSearchParams(params);\n  };\n\n  useMemo(() => {\n    setSearchWith('page', 1);\n  }, [itemsPerPage, sortBy]);\n\n  function sort(filteredPhones: Product[]) {\n    const newPhones = [...filteredPhones];\n\n    switch (sortBy) {\n      case (SORT_BY.age):\n        newPhones.sort((a, b) => (b.year - a.year));\n        break;\n\n      case (SORT_BY.name):\n        newPhones.sort((a, b) => (a.name.localeCompare(b.name)));\n        break;\n\n      case (SORT_BY.price):\n        newPhones.sort((a, b) => (a.price - b.price));\n        break;\n\n      default:\n        break;\n    }\n\n    return newPhones.slice(firstIndex, lastIndex);\n  }\n\n  const filteredByQuery = [...products]\n    .filter(item => item.name.toLowerCase().includes(query.toLowerCase()));\n\n  const visibleProducts = sort(filteredByQuery);\n\n  const getPagesButtons = () => {\n    const pagesAmount = itemsPerPage !== 'all'\n      ? Math.ceil(filteredByQuery.length / +itemsPerPage)\n      : 1;\n\n    let pagesButtons = [1, currPage - 1, currPage, currPage + 1, pagesAmount];\n\n    if (currPage === 1 || currPage === 2) {\n      pagesButtons = [1, 2, 3, 4, pagesAmount];\n    }\n\n    if (currPage === pagesAmount || currPage === pagesAmount - 1) {\n      pagesButtons = [\n        1, pagesAmount - 3, pagesAmount - 2, pagesAmount - 1, pagesAmount,\n      ];\n    }\n\n    if (pagesAmount < 5) {\n      pagesButtons = [];\n\n      for (let number = 1; number <= pagesAmount; number += 1) {\n        pagesButtons.push(number);\n      }\n    }\n\n    return pagesButtons;\n  };\n\n  useEffect(() => {\n    setProductsCounter(filteredByQuery.length);\n  }, [filteredByQuery]);\n\n  return (\n    <div className=\"catalog\">\n      {filteredByQuery.length === 0\n        ? <p>No products found</p>\n        : (\n          <>\n            <div className=\"catalog__filters\">\n              <Select\n                label=\"Sort by\"\n                property={sortBy}\n                searchName=\"sort\"\n                setSearchWith={setSearchWith}\n                propertyList={Object.values(SORT_BY)}\n              />\n\n              <Select\n                label=\"Items on page\"\n                property={itemsPerPage}\n                searchName=\"perPage\"\n                setSearchWith={setSearchWith}\n                propertyList={ITEMS_PER_PAGE}\n              />\n            </div>\n\n            <div className=\"catalog__product-list\">\n              <ProductList productsList={visibleProducts} />\n            </div>\n\n            {itemsPerPage !== 'all' && (\n              <div className=\"catalog__pages-nav\" data-cy=\"pagination\">\n                <button\n                  aria-label=\"prev\"\n                  type=\"button\"\n                  className={classNames(\n                    'button button--prev',\n                    { 'button--disabled': currPage === 1 },\n                  )}\n                  data-cy=\"paginationLeft\"\n                  onClick={() => setSearchWith('page', currPage - 1)}\n                />\n\n                <div className=\"catalog__pages-buttons\">\n                  {getPagesButtons().map(n => (\n                    <button\n                      key={n}\n                      aria-label=\"page\"\n                      type=\"button\"\n                      className={classNames('catalog__page-button',\n                        { 'catalog__page-button--active': (n === currPage) })}\n                      onClick={() => setSearchWith('page', n)}\n                    >\n                      {n}\n                    </button>\n                  ))}\n                </div>\n\n                <button\n                  aria-label=\"next\"\n                  type=\"button\"\n                  className={classNames(\n                    'button button--next',\n                    {\n                      'button--disabled':\n                        currPage === getPagesButtons().length,\n                    },\n                  )}\n                  data-cy=\"paginationRight\"\n                  onClick={() => setSearchWith('page', currPage + 1)}\n                />\n              </div>\n            )}\n          </>\n        )}\n    </div>\n  );\n};\n","import { useRef } from 'react';\nimport './Select.scss';\n\ntype PropertyListType = string | number;\n\ntype Props = {\n  label: string,\n  property: string | number,\n  searchName: string,\n  setSearchWith: (key: string, value: string | number) => void,\n  propertyList: PropertyListType[],\n};\n\nexport const Select: React.FC<Props> = ({\n  label, property, searchName,\n  setSearchWith,\n  propertyList,\n}) => {\n  const dropdown = useRef<HTMLUListElement>(null);\n  const selectBtn = useRef<HTMLButtonElement>(null);\n\n  const onSelectBtnBlur = () => {\n    if (dropdown) {\n      dropdown.current?.classList.remove('select__dropdown--visible');\n    }\n\n    if (selectBtn) {\n      selectBtn.current?.classList.remove('select__button--active');\n    }\n  };\n\n  const onSelectBtnClick = () => {\n    if (dropdown) {\n      dropdown.current?.classList.toggle('select__dropdown--visible');\n    }\n\n    if (selectBtn) {\n      selectBtn.current?.classList.toggle('select__button--active');\n    }\n  };\n\n  return (\n    <div className=\"select__wrapper\">\n      <p className=\"select__label\">\n        {label}\n      </p>\n\n      <button\n        ref={selectBtn}\n        type=\"button\"\n        aria-label=\"select-button\"\n        name=\"sortBy\"\n        id=\"sortBy\"\n        className=\"select__button\"\n        onClick={onSelectBtnClick}\n        onBlur={onSelectBtnBlur}\n      >\n        {property}\n      </button>\n      <ul className=\"select__dropdown\" ref={dropdown}>\n        {propertyList.map(prop => (\n          <li key={prop}>\n            <button\n              type=\"button\"\n              className=\"select__option\"\n              onMouseDown={() => setSearchWith(searchName, prop)}\n            >\n              {prop}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { Catalog } from '../../components/Catalog';\nimport { Loader } from '../../components/Loader';\nimport { getCategoy } from '../../helpers/productsServise';\nimport { Product } from '../../helpers/types';\n\ntype Props = {\n  category: string,\n  title: string,\n};\n\nexport const ProductsPage: React.FC<Props> = ({ category, title }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [productsCounter, setProductsCounter] = useState(products.length);\n  const location = useLocation();\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getCategoy(category)\n      .then(setProducts)\n      .finally(() => setIsLoading(false));\n  }, [location.pathname]);\n\n  return (\n    <div className=\"outlet\">\n      <Breadcrumbs />\n\n      {isLoading\n        ? <Loader />\n        : (\n          <section className=\"outlet__content\">\n            <h1 className=\"outlet__title\">{title}</h1>\n            <p className=\"outlet__subtitle\">\n              {`${productsCounter} ${productsCounter === 1 ? 'model' : 'models'}`}\n            </p>\n            <div className=\"outlet__catalog\">\n              <Catalog\n                products={products}\n                setProductsCounter={setProductsCounter}\n              />\n            </div>\n          </section>\n        )}\n    </div>\n  );\n};\n","import {\n  HashRouter, Route, Routes,\n} from 'react-router-dom';\nimport App from './App';\nimport { ScrollToTop } from './components/ScrollToTop';\nimport { ProductContextProvider } from './helpers/ProductsContext';\nimport { CartPage } from './pages/CartPage';\nimport { ErrorPage } from './pages/ErrorPage';\nimport { FavoritesPage } from './pages/FavoritesPage';\nimport { HomePage } from './pages/HomePage';\nimport { ItemPage } from './pages/ItemPage';\nimport { ProductsPage } from './pages/ProductsPage';\n\nexport default function Root() {\n  return (\n    <ProductContextProvider>\n      <HashRouter>\n        <ScrollToTop />\n        <Routes>\n          <Route path=\"/\" element={<App />}>\n            <Route index element={<HomePage />} />\n            <Route path=\"home\" element={<HomePage />} />\n            <Route path=\"phones\">\n              <Route\n                index\n                element={\n                  <ProductsPage category=\"phones\" title=\"Mobile phones\" />\n                }\n              />\n              <Route path=\":itemId\" element={<ItemPage />} />\n            </Route>\n            <Route path=\"tablets\">\n              <Route\n                index\n                element={<ProductsPage category=\"tablets\" title=\"Tablets\" />}\n              />\n              <Route path=\":itemId\" element={<ItemPage />} />\n            </Route>\n            <Route path=\"accessories\">\n              <Route\n                index\n                element={(\n                  <ProductsPage\n                    category=\"accessories\"\n                    title=\"Accessories\"\n                  />\n                )}\n              />\n              <Route path=\":itemId\" element={<ItemPage />} />\n            </Route>\n            <Route path=\"favorites\" element={<FavoritesPage />} />\n            <Route path=\"cart\" element={<CartPage />} />\n            <Route path=\"*\" element={<ErrorPage />} />\n          </Route>\n        </Routes>\n      </HashRouter>\n    </ProductContextProvider>\n  );\n}\n","import ReactDOM from 'react-dom';\n\nimport Root from './Root';\nimport './styles/index.scss';\n\nReactDOM.render(\n  <Root />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}